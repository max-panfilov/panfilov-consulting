# Использование Seed-скрипта

## Описание

Seed-скрипт автоматически заполняет базу данных контентом согласно документации `homepage-content.md`. Он создает:

- 1 категорию блога "Экспертиза"
- 3 кейса (featured)
- 3 статьи блога с категорией "Экспертиза"
- 1 форму обратной связи "Заявка на консультацию"
- **Главную страницу** (slug: `home`) с 6 блоками и полным контентом

## Запуск

### Через админ-панель (единственный способ)

1. Запустите dev-сервер: `pnpm dev`
2. Откройте админ-панель: http://localhost:3000/admin (или другой порт, если 3000 занят)
3. Войдите в систему (или создайте первого пользователя)
4. Внизу левой панели найдите ссылку **"seed database"**
5. Нажмите на неё для запуска seed-процесса

⚠️ **Внимание:** Seed полностью очищает базу данных перед заполнением! Все существующие данные будут удалены.

**Что выполнит seed:**
- Стандартный seed из шаблона Payload (демо-контент: страницы, посты, медиа)
- Дополнительный seed для Panfilov Consulting (наши кейсы, статьи, форма)
- **Главную страницу с всеми блоками** (готова к использованию!)

## Созданный контент

### Категории

- **Экспертиза** (slug: `ekspertiza`)

### Кейсы

1. **AI-чатбот для ДКС**
   - Slug: `dks-chatbot`
   - Industry: Electronics
   - Featured: ✅

2. **Автоматизация обработки заявок для компании по металлопрокату**
   - Slug: `metalloprokat-telegram-bot`
   - Industry: Metallurgy
   - Featured: ✅

3. **On-premise AI-платформа для юридической компании**
   - Slug: `law-firm-onpremise-ai`
   - Industry: Legal
   - Featured: ✅

### Статьи блога

1. **RAG для среднего и крупного бизнеса в РФ: обзор решений и лучшие практики**
   - Slug: `rag-for-business-russia`
   - Category: Экспертиза

2. **Сравнение on-prem AI-моделей для использования в бизнесе**
   - Slug: `onprem-ai-models-comparison`
   - Category: Экспертиза

3. **Обзор GenAI в ключевых отраслях: от финансов до транспорта**
   - Slug: `genai-industry-overview`
   - Category: Экспертиза

### Формы

**Заявка на консультацию** с полями:
- Ваше имя (required)
- Название компании (optional)
- Email для связи (required)
- Телефон (optional)
- Опишите вашу задачу или вопрос (required)

Email для уведомлений: `start@panfilov.consulting`

### Главная страница

**Главная** (slug: `home`) с 6 блоками:
1. **HeroHome** - геройская секция с CTA
2. **TargetAudience** - 4 аудитории (СЕО, руководители, CTO, data-rich компании)
3. **SolutionApproach** - 3 этапа работы
4. **FeaturedCases** - авто-выбор 3 featured кейсов
5. **ExpertiseHighlight** - 3 статьи из категории "Экспертиза"
6. **ContactForm** - форма обратной связи с якорем #form

Страница доступна по адресу: **http://localhost:3000/home**

## Примечания

- Все кейсы создаются со статусом `published`
- Все статьи блога создаются со статусом `published`
- **Главная страница создается с полным контентом** из `homepage-content.md`
- Lexical rich text поля используют минимальную структуру (один параграф текста) для кейсов и постов
- Форма настроена на redirect после отправки на `/thank-you` (страница должна быть создана отдельно)

## Дальнейшие шаги

После выполнения seed:

1. **Проверьте главную страницу:** http://localhost:3000/home
2. Добавьте изображения:
   - Hero background в HeroHome блок
   - Cover images для кейсов
   - Featured images для статей блога
3. Дополните контент кейсов и статей
4. Создайте страницу "Спасибо" (`/thank-you`) для формы
5. Заполните глобальные настройки Header и Footer
6. Протестируйте форму и получение email

## Структура файла seed

Seed-скрипт находится в:
```
src/endpoints/seed/panfilov-seed.ts
```

Он интегрирован в основной seed endpoint:
```
src/endpoints/seed/index.ts
```

При необходимости добавления нового контента редактируйте `panfilov-seed.ts`.
