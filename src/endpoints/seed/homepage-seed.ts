import type { Payload, PayloadRequest } from 'payload'

// Seed-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–≥–ª–∞—Å–Ω–æ docs/homepage-content.md
export const homePageSeed = async ({
  payload,
  req,
}: {
  payload: Payload
  req: PayloadRequest
}): Promise<void> => {
  payload.logger.info('üè† Creating home page with all blocks...')

  try {
    // –ü–æ–ª—É—á–∞–µ–º ID —Ñ–æ—Ä–º—ã "–ó–∞—è–≤–∫–∞ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é"
    const forms = await payload.find({
      collection: 'forms',
      where: {
        title: {
          equals: '–ó–∞—è–≤–∫–∞ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
        },
      },
      limit: 1,
    })

    const form = forms.docs[0]
    if (!form) {
      payload.logger.error('Form "–ó–∞—è–≤–∫–∞ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é" not found. Run panfilov-seed first!')
      return
    }

    // –ü–æ–ª—É—á–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞"
    const categories = await payload.find({
      collection: 'categories',
      where: {
        title: {
          equals: '–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞',
        },
      },
      limit: 1,
    })

    const category = categories.docs[0]
    if (!category) {
      payload.logger.error('Category "–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞" not found. Run panfilov-seed first!')
      return
    }

    // –°–æ–∑–¥–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –±–ª–æ–∫–∞–º–∏
    const homePage = await payload.create({
      collection: 'pages',
      draft: true,
      data: {
        title: '–ì–ª–∞–≤–Ω–∞—è',
        slug: 'home',
        _status: 'published',
        meta: {
          title: 'Panfilov Consulting | –í–Ω–µ–¥—Ä–µ–Ω–∏–µ GenAI –¥–ª—è –±–∏–∑–Ω–µ—Å–∞',
          description:
            '–ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ AI-—Ä–µ—à–µ–Ω–∏–π –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –∫—Ä—É–ø–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞. –ù–∞—Ö–æ–¥–∏–º —Ç–æ—á–∫–∏ —Ä–æ—Å—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.',
        },
        layout: [
          // 1. HeroHome
          {
            blockType: 'heroHome',
            heading: '–í–Ω–µ–¥—Ä—è–µ–º GenAI –¥–ª—è —Ä–æ—Å—Ç–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞',
            subheading:
              '–ù–∞—Ö–æ–¥–∏–º —Ç–æ—á–∫–∏ —Ä–æ—Å—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º —Ä—É—Ç–∏–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–≤—ã—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–æ–∫—Ä–∞—â–∞—é—Ç –∏–∑–¥–µ—Ä–∂–∫–∏. –ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ AI-—Ä–µ—à–µ–Ω–∏–π –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –∫—Ä—É–ø–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞.',
            primaryCTA: {
              text: '–ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
              link: '#form',
            },
            secondaryCTA: {
              text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–µ–π—Å—ã',
              link: '#cases',
            },
            mediaType: 'image',
            backgroundOverlay: true,
          },
          // 2. TargetAudience
          {
            blockType: 'targetAudience',
            heading: '–ù–∞—à–∏ —Ä–µ—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –ª–∏–¥–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—â—É—Ç —Ç–æ—á–∫–∏ —Ä–æ—Å—Ç–∞',
            audiences: [
              {
                title: '–î–ª—è CEO –∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –±–∏–∑–Ω–µ—Å–∞',
                description:
                  '–ú—ã –ø–æ–º–æ–≥–∞–µ–º –Ω–∞–π—Ç–∏ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–æ—Å—Ç–∞ –∏ –æ–±–æ–π—Ç–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∑–∞ —Å—á–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã.',
                icon: 'FaUserTie',
              },
              {
                title: '–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤',
                description:
                  '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º –¥–æ 80% —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –≤—Ä–µ–º—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã.',
                icon: 'FaBriefcase',
              },
              {
                title: '–î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ (CTO)',
                description:
                  '–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≥–ª—É–±–æ–∫—É—é —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤ GenAI –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —Ä–∏—Å–∫–∏ –∏ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–æ–∏—Å–∫ in-house —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.',
                icon: 'FaCode',
              },
              {
                title: '–î–ª—è –∫–æ–º–ø–∞–Ω–∏–π, –±–æ–≥–∞—Ç—ã—Ö –¥–∞–Ω–Ω—ã–º–∏',
                description:
                  '–ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤–∞—à–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ –≤ –º–æ—â–Ω—ã–π –∞–∫—Ç–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ —Ä—ã–Ω–∫–∞.',
                icon: 'FaDatabase',
              },
            ],
          },
          // 3. SolutionApproach
          {
            blockType: 'solutionApproach',
            heading: '–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ–º –∫–æ–¥, –º—ã —Ä–µ—à–∞–µ–º –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏',
            subheading:
              '–ù–∞—à –ø–æ–¥—Ö–æ–¥ ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–∞—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –ø–µ—Ä–µ–¥–æ–≤—ã—Ö AI-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.',
            steps: [
              {
                title: '–ê–Ω–∞–ª–∏–∑ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è',
                description:
                  '–ü–æ–≥—Ä—É–∂–∞–µ–º—Å—è –≤ –≤–∞—à –±–∏–∑–Ω–µ—Å, –Ω–∞—Ö–æ–¥–∏–º –ø—Ä–æ—Ü–µ—Å—Å—ã, –≥–¥–µ AI –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç. –§–æ—Ä–º—É–ª–∏—Ä—É–µ–º –≥–∏–ø–æ—Ç–µ–∑—ã –∏ –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É.',
                icon: 'FaChartLine',
              },
              {
                title: '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ',
                description:
                  '–°–æ–∑–¥–∞–µ–º –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º AI-—Ä–µ—à–µ–Ω–∏—è: –æ—Ç —á–∞—Ç-–±–æ—Ç–æ–≤ –∏ —Å–∏—Å—Ç–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.',
                icon: 'FaCogs',
              },
              {
                title: '–û–±—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                description:
                  '–û–±—É—á–∞–µ–º –≤–∞—à—É –∫–æ–º–∞–Ω–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è.',
                icon: 'FaGraduationCap',
              },
            ],
          },
          // 4. FeaturedCases
          {
            blockType: 'featuredCases',
            heading: '–î–æ–∫–∞–∑–∞–Ω–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ',
            casesToShow: 3,
            autoSelect: true,
            ctaText: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–µ–π—Å—ã',
            ctaLink: '/cases',
          },
          // 5. ExpertiseHighlight
          {
            blockType: 'expertiseHighlight',
            heading: '–î–µ–ª–∏–º—Å—è –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –æ–ø—ã—Ç–æ–º',
            subheading:
              '–ú—ã –Ω–µ —Ç–æ–ª—å–∫–æ –≤–Ω–µ–¥—Ä—è–µ–º, –Ω–æ –∏ –≥–ª—É–±–æ–∫–æ –∏—Å—Å–ª–µ–¥—É–µ–º AI-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –ß–∏—Ç–∞–π—Ç–µ –æ–± —ç—Ç–æ–º –≤ –Ω–∞—à–µ–º –±–ª–æ–≥–µ.',
            category: category.id,
            postsToShow: 3,
            ctaText: '–ü–µ—Ä–µ–π—Ç–∏ –≤ –±–ª–æ–≥',
            ctaLink: '/posts',
          },
          // 6. ContactForm
          {
            blockType: 'contactForm',
            heading: '–ì–æ—Ç–æ–≤—ã –Ω–∞–π—Ç–∏ —Ç–æ—á–∫–∏ —Ä–æ—Å—Ç–∞ –≤ –≤–∞—à–µ–º –±–∏–∑–Ω–µ—Å–µ —Å –ø–æ–º–æ—â—å—é AI?',
            description:
              '–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É, –∏ –º—ã –ø—Ä–æ–≤–µ–¥–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á—É, –≥–¥–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à–∏ –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–¥–µ–∏ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è AI.',
            form: form.id,
            htmlId: 'form',
          },
        ],
      },
    })

    payload.logger.info('‚úÖ Home page created successfully!')
    payload.logger.info(`   - Page ID: ${homePage.id}`)
    payload.logger.info(`   - Page slug: ${homePage.slug}`)
    payload.logger.info(`   - Blocks: ${homePage.layout?.length || 0}`)
  } catch (error) {
    payload.logger.error('‚ùå Error creating home page:')
    payload.logger.error(error)
    throw error
  }
}
