// @ts-nocheck
#!/usr/bin/env tsx

import 'dotenv/config'
import { getPayload } from 'payload'
import configPromise from '@payload-config'

async function main() {
  console.log('üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∫–µ–π—Å–æ–≤...')

  try {
    const payload = await getPayload({ config: configPromise })
    const context = { disableRevalidate: true }

    // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–µ–π—Å—ã
    const existing = await payload.find({ collection: 'cases', limit: 100 })
    if (existing.docs.length > 0) {
      console.log(`üóëÔ∏è  –£–¥–∞–ª–µ–Ω–∏–µ ${existing.docs.length} –∫–µ–π—Å–æ–≤...`)
      for (const c of existing.docs) {
        await payload.delete({ collection: 'cases', id: c.id, context })
      }
    }

    // –ü–æ–ª—É—á–∞–µ–º ID placeholder
    const media = await payload.find({
      collection: 'media',
      where: { alt: { equals: 'Case placeholder' } },
      limit: 1,
    })
    const placeholderImageId = media.docs[0]?.id || '5'

    const cases = [
      {
        title: '–ò–ò-—á–∞—Ç–±–æ—Ç –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ê–û ¬´–î–ö–°¬ª',
        slug: 'dks-chatbot',
        industry: 'manufacturing',
        shortDescription: '–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤',
        challenge: '–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏–∑-–∑–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –≤–æ–ø—Ä–æ—Å–æ–≤.',
        coverImage: placeholderImageId,
        solution: `–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ LLM (GPT).

–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ê–Ω–∞–ª–∏–∑ 4000 —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç–Ω—ã—Ö —Ç–µ–º
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è 4 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º API DKC
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —Ç–æ–≤–∞—Ä–∞`,
        results: `- –†–æ—Å—Ç –¥–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ —Å 30% –¥–æ 60%
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–∞ 40%
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞`,
        technologies: [{ technology: 'GPT-4' }, { technology: 'LangChain' }, { technology: 'Python' }],
        _status: 'published',
      },
      {
        title: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LLM',
        slug: 'legal-llm-platform',
        industry: 'legal',
        coverImage: placeholderImageId,
        shortDescription: '–ó–∞—â–∏—â–µ–Ω–Ω–∞—è on-premise –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞',
        challenge: '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å LLM –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.',
        solution: `–†–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–∞ –±–∞–∑–µ Nvidia H200
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ on-premise –º–æ–¥–µ–ª–∏ Qwen32B
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞ Due Diligence
- –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM`,
        results: `- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ 5 —Ä–∞–∑
- 100% –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ 60%`,
        technologies: [{ technology: 'Qwen32B' }, { technology: 'Nvidia H200' }, { technology: 'Python' }],
        _status: 'published',
      },
      {
        title: '–ò–ò-–±–æ—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –Ω–∞ –º–µ—Ç–∞–ª–ª–æ–ø—Ä–æ–∫–∞—Ç',
        slug: 'metallurgy-bot',
        industry: 'metallurgy',
        coverImage: placeholderImageId,
        shortDescription: 'Telegram-–±–æ—Ç –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤',
        challenge: '–†—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤ –∑–∞–Ω–∏–º–∞–ª–∞ –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.',
        solution: `–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram-–±–æ—Ç–∞ —Å n8n
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenAI –∏ LangChain –¥–ª—è OCR
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ .xlsx, .pdf, .jpg —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö`,
        results: `- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–∫—Ä–∞—Ç–∏–ª–æ—Å—å —Å 2 —á–∞—Å–æ–≤ –¥–æ 5 –º–∏–Ω—É—Ç
- –°–Ω–∏–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ 95%
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–∞ –≤ 24 —Ä–∞–∑–∞`,
        technologies: [{ technology: 'Telegram Bot' }, { technology: 'n8n' }, { technology: 'OpenAI' }],
        _status: 'published',
      },
      {
        title: '–ò–ò-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–±–æ—Ä–∞ –∫–µ–π—Å–æ–≤ digital-–∞–≥–µ–Ω—Ç—Å—Ç–≤',
        slug: 'digital-cases-platform',
        industry: 'other',
        coverImage: placeholderImageId,
        shortDescription: 'B2B-—Å–∏—Å—Ç–µ–º–∞ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ',
        challenge: '–ê–≥–µ–Ω—Ç—Å—Ç–≤–∞ —Ç—Ä–∞—Ç—è—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.',
        solution: `–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ B2B-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Gemini 2.5 Flash —Å Function Calling
- –ü—É–±–ª–∏—á–Ω—ã–π —á–∞—Ç –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ —Å SSE-—Å—Ç—Ä–∏–º–∏–Ω–≥–æ–º
- –ú–µ—Ö–∞–Ω–∏–∑–º claim/handoff –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∏–∞–ª–æ–≥–∞
- –î–∞—à–±–æ—Ä–¥ –Ω–∞ Refine + Next.js App Router —Å RBAC`,
        results: `- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–µ–π—Å–∞ —Å 4 —á–∞—Å–æ–≤ –¥–æ 15 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 90%
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –∫–µ–π—Å–æ–≤ –Ω–∞ 300%`,
        technologies: [{ technology: 'Google Gemini' }, { technology: 'Next.js' }, { technology: 'PostgreSQL' }],
        _status: 'published',
      },
      {
        title: '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤',
        slug: 'medical-analysis-platform',
        industry: 'other',
        coverImage: placeholderImageId,
        shortDescription: '–í–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏ Telegram-–±–æ—Ç –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π',
        challenge: '–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π.',
        solution: `–°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ Telegram-–±–æ—Ç–æ–º.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- OCR –∏ –ø–∞—Ä—Å–∏–Ω–≥: GPT-4o –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å –ë–î
- –ü–æ–ª–æ–∑–∞–≤–∏—Å–∏–º–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ (Recharts)`,
        results: `- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 95%
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è 98% –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Å 30 –º–∏–Ω—É—Ç –¥–æ 2 –º–∏–Ω—É—Ç
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π`,
        technologies: [{ technology: 'GPT-4o' }, { technology: 'React' }, { technology: 'Express.js' }],
        _status: 'published',
      },
    ]

    console.log(`\nüìù –°–æ–∑–¥–∞–Ω–∏–µ ${cases.length} –∫–µ–π—Å–æ–≤...`)
    for (const caseData of cases) {
      const result = await payload.create({
        collection: 'cases',
        context,
        data: caseData,
      })
      console.log(`‚úÖ –°–æ–∑–¥–∞–Ω: "${result.title}"`)
    }

    console.log(`\n‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ ${cases.length} –∫–µ–π—Å–æ–≤!`)
    process.exit(0)
  } catch (error: any) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message)
    if (error.stack) console.error(error.stack)
    process.exit(1)
  }
}

main()
